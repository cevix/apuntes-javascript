<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        /*
Objetivo: El objetivo de esta práctica es crear un programa de gestión de tareas para ayudar a un valiente aventurero a organizar
y seguir el progreso de susemocionantes misiones en un mundo lleno de peligros y desafíos.
 
Descripción: Nuestro valiente aventurero se embarca en innumerables misiones en su búsqueda de tesoros y la derrota de malvados
villanos. Sin embargo, necesita una forma de llevar un registro de sus tareas pendientes y completadas. En esta práctica, se te pide crear
un programa que le permita al aventurero agregar, eliminar, mostrar y marcar como completadas las tareas relacionadas con sus misiones.
 
Requisitos:
  
  -El programa no debe lanzar ninguna excepción. Haz las comprobaciones necesarias de todos los datos.
 
  -El programa debe incluir un array llamado tareas que almacenará las tareas del aventurero. Cada tarea será representada por un objeto
  que incluirá propiedades como 'id', 'nombre', 'descripcion', 'fecha' y 'completada'.
 
  -El programa debe proporcionar una función agregarTarea que permita al aventurero agregar nuevas tareas a su lista. Esta función debe
  solicitar al aventurero que ingrese el 'nombre' de la nueva tarea, una breve descripción y la fecha límite de la tarea. Luego, debe crear un
  objeto de tarea con las propiedades correspondientes y agregarlo al array tareas.
 
  -El programa debe proporcionar una función eliminarTarea que permita al aventurero eliminar tareas de su lista. Esta función debe solicitar
  al aventurero que ingrese el ID de la tarea que desea eliminar y buscar esa tarea en el array tareas por su ID. Una vez encontrada,
  debe eliminarla del array.
 
  -El programa debe proporcionar una función mostrarTareas que muestre todas las tareas almacenadas en el array tareas. Esta función debe
  mostrar el ID, nombre, descripción, fecha límite y estado de completado de cada tarea.
 
  -El programa debe proporcionar una función marcarTareaCompletada que permita al aventurero marcar una tarea como completada. Esta función
  debe solicitar al aventurero que ingrese el ID de la tarea que desea marcar y buscar esa tarea en el array tareas por su ID. Una vez
  encontrada, debe cambiar el estado de completado de la tarea a true.
 
Con estos requisitos, nuestro aventurero estará preparado para enfrentar los desafíos y mantenerse organizado en su búsqueda de la gloria y
los tesoros ocultos en este vasto mundo de aventuras.
 
*/
/*
crokies
¿Que necesito?
un array


*/

        //declarar array
        var tareas=[];
        
        do {
            var eleccion=prompt("Seleccione una opcion: "+
            "1.agregar Tarea"+
            "2.eliminar Tarea"+
            "3.mostrarTareas"+
            "4.marcarTareaCompletada"+
            "5.salir"
            )
            if(!(eleccion===null)){
                var eleccionComprobada=comprobarEleccion(eleccion)
                    if(eleccionComprobada==1){
                        var idValor=Math.random().toString(36)
                        var nombreValor=objetos("nombre");
                        var descripcionValor =objetos("descripción")
                        var fechaLimiteValor = objetos('la fecha limite');
                        var completadaValor = objetos("si esta completada")
                        tareas.push({id:idValor,nombre:nombreValor,descripcion:descripcionValor,fechaLimite:fechaLimiteValor,completada:completadaValor})

                    }

                        function objetos(variable){
                            var dato=prompt("introduce "+ variable + " de la tarea.")
                            return dato
                        }
                    if (eleccionComprobada==2) {
                        var idDelete=prompt("introduce el id de la tarea eleminar");
                        var posicion=buscarId(tareas,idDelete);
                        
                        var tareas = tareas.filter(tarea =>tarea.id !=idDelete)
                        alert("se ha realizado el borrado");


                        

                        
                        
                    }
                    if(eleccionComprobada==3){
                        for (let i = 0; i < tareas.length; i++) {
                            console.log(Object.values(tareas[i]));
                            
                        }
                        function buscarId(tareas,idDelete){
                            for (let i = 0; i < eleccion.length; i++) {
                               if (tareas[i].id==idDelete) {
                                    return i
                               }
                            
                            }
                            alert("no esta esta tarea,introduce bien el id");
                        }


                    }

                function comprobarEleccion(eleccion){
                    var eleccionInt=parseInt(eleccion);
                    if (isNaN(parseInt(eleccion))){
                    return alert("introduce un numero")   
                    }if(parseInt(eleccion) <0||parseInt(eleccion)>6 ){
                    return alert("introduce un numero dentro del rango")
                        }
                    return eleccionInt;
                }
            }
        }while (!(eleccion===null))



    </script>
    
</body>
</html>